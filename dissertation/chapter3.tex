\section{Representing Ability}

To form a statistical basis for content scheduling, the measure of trait
ability should be done per-concept and Bloom level.  Therefore if there are $m$
concepts and $n$ levels, there are then $nm$ number of $\theta$ values.  This
shall be called $\Theta$, the trait ability matrix; and $\Theta_s$ will denote
the trait ability matrix of student $s$.  Let $j$ be the index of a Bloom level
and $k$ be the index of a concept, then:

\begin{equations}
\Theta_s =\left[
         \begin{array}{lllll}
              \theta_{s11} & \ldots       & \ldots       & \ldots & \theta_{sn1}  \\
              \vdots       & \ddots       &              &        &               \\
              \vdots       &              & \theta_{sjk} &        &               \\
              \vdots       &              &              & \ddots &               \\
              \theta_{s1m} &              &              &        & \theta_{snm}  \\
         \end{array}
       \right]
\end{equations}

While not strict, there is certainly an ordering about $\Theta$. Lower-level
concepts come before higher-level concepts, and lower Bloom levels come before
higher Bloom levels.  Conceivably a $\Theta$ may look like the following:

\begin{equations}
\Theta_1 =\left[
         \begin{array}{llllll}
             3 & 2.5 & 1   & \y0 & -1     & -2   \\
             2 & 1.5 & \y0 & -.5 & -1.5   & -2.5 \\
             1 &  .5 & \y0 & -1  & -2     & -3   \\
             1 & \y0 & -.5 & -1  & -2.5   & -3   \\
         \end{array}
       \right]
\end{equations}
\vspace{12pt}

Highlighted are areas where $\theta_{sjk} = 0$. These are the areas where the
student has roughly .5 probability of answering a question at difficulty
$\beta=0$ correctly.  Now the question arises: given a rich content item set
with questions in all (Bloom $\times$ concept $\times$ difficulty) categories,
which categories should be selected?  Many factors are taken into account.

\section{Proximal Zone of Development}

Clearly the higher $\theta_{sjk}$ values should be left alone, particularly
those nearing 3, since this demonstrates exceptional mastery of that (Bloom
$\times$ concept) category.  In particular, if $\theta_{sjk} = 3$, there is no
sense in asking at all since trait abilities are capped at 3.  In probabilistic
terms and relative to questions, asking questions for which the estimated
probably is overwhelmingly high, for example $p > .9$, serves no purpose, since
probability estimates of that degree require $\theta-\beta$ significantly
greater than 0.

% TODO: (SRB) What does the x in $\theta_{sjk} = x$ mean? Is it a question
% difficulty?  
If $\theta_{sjk} = x$, that is if the difficulty per student, Bloom level and
concept is some value $x$, then it would be ``unfair'' to ask questions in that
category which have $\beta > x$.  According to Equation~\ref{eq:irt}, if $\beta
> x$ and $\theta_{sjk} < x$, then $\theta{sjk}-\beta < 0$ and therefore
$p(\theta_{sjk}) < .5$, which means the student has less than .5 probability to
answer correctly.  Asking questions for which $p(\theta_{sjk}) < .5$ has
psychological ramifications, and potential problems for the updated MLE of
$\theta_{sjk}$.

It is true that correct answers of more challenging questions raise the ability
returned by a maximum likelihood estimate, however if the probability of
answering them is consistently less than chance and the student responds
accordingly, it is unlikely the estimate will return any $\theta_{sjk} > x$ for
those problems.  Also, given the information $\Theta_s$ about the student, if
it is known that the particular student will more than likely fail a particular
question, it would not make sense to ask it from a psychological standpoint,
provided that the intention of asking is to raise trait ability levels.  If the
student consistently experiences more failures than successes, the student is
more likely to be discouraged by the testing. 
%citation

There is another consideration: the concept tier and Bloom levels.  The course
is a progression of concepts across Bloom levels.  There is evidence to suggest
that students prefer problems with Bloom levels as high as they are able to
solve \cite{goel2004}; and ideally, the student should see steady progress in the
concepts of the course.  The set of questions asked at any given time in a course of study
typically range over a subset of concepts.  Testing for all concepts begins at
the Knowledge level; as new concepts are introduced over time, the tested Bloom
level for earlier-introduced concepts rises.  In a ``perfect'' situation, we
might observe a trait ability matrix as in Equation~\ref{eq:perfect}, which
shows a clear diagonal reflecting a progression in both concepts and Bloom
levels.  

\begin{equations}
\label{eq:perfect}
\Theta_2 =\left[
         \begin{array}{llllll}
             3   & 3   & 2   &  1 & \y0\\
             3   & 2   & 1   &\y0 & -1 \\
             2   & 1   & \y0 & -1 & -2 \\
             1   & \y0 & -1  & -2 & -3 \\
             \y0 & -1  & -2  & -3 & -3 \\
         \end{array}
       \right]
\end{equations}
\vspace{12pt}

With all this in mind, the most logical subset of (Bloom $\times$ concept)
categories to select questions from are those in the neighborhood of
$\theta_{sjk} = 0$.  One interpretation of this subset is that it is the
student's proximal zone of development.  In the psychology of learning, the
proximal zone of development is the area or areas in which a student can
perform a task with assistance, but could not perform the task without
assistance.  This is consistent with $p \approx .5$.
% citation

However, any question can potentially be asked for any (Bloom $\times$ concept)
category while still placing $p$ at or just slightly above .5 by manipulating
difficulty.  In fact, a matrix of difficulties for desired target questions
could be calculated from the ability matrix:

\begin{equations}
  B_s = \Theta_s - \delta
\end{equations}

where $\delta$ is a sufficiently low value, such as .5.  In the case of
student $s=1$, $B$ would then equal:

\begin{equations}
B_1 =\left[
         \begin{array}{llllll}
             2.5 & 2    & 1   & -.5  & -1.5   & -2.5 \\
             1.5 & 1.5  & -.5 & -1   & -2     & -3   \\
             .5  &  0   & -.5 & -1.5 & -2.5   & -3.5 \\
             .5  & -.5  & -1  & -1.5 & -3     & -3.5 \\
         \end{array}
       \right]
\end{equations}
\vspace{12pt}

% FIXME
% TODO: (SRB) I have trouble following the next paragraph
Then, it is possible to threshold the matrix so as to eliminate the [Bloom
$\times$ concept] categories after this stepladder, but include some lag up to
and not including those $\beta_{sjk}$ values for which the student has
$\theta_{sjk}$ indicating distinguished mastery:

\begin{equations}
B_1 =\left[
         \begin{array}{llllll}
                 & 2    & 1   & -.5  &        &      \\
             1.5 & 1.5  & -.5 &      &        &      \\
             .5  &  0   & -.5 &      &        &      \\
             .5  & -.5  &     &      &        &      \\
         \end{array}
       \right]
\end{equations}
\vspace{12pt}

From here, the density of questions asked may be in proportion to the distance
from -.5.  Eventually, either the student will reach $\theta_{sjk} = 3$ or else
the tutoring system will run out of questions for that (Bloom $\times$
concept), in which event the trait ability level will stay.

Sometimes the trait ability matrix may be jagged:

\begin{equations}
\Theta_1 =\left[
         \begin{array}{llllll}
             3 & 3   & 2   & \y0  & -1     & -2   \\
             3 & 2.5 & 1   & \y-.5  & -1.5   & -2.5 \\
             3 & 3   & 2.5 & \y-1 & -2     & -3   \\
             2 & 1.5 & \y-.5 & -1   & -2.5   & -3   \\
         \end{array}
       \right]
\end{equations}
\vspace{12pt}

in which event, the scheduler discussed in Sec~\ref{sec:scheduler} will attempt
to correct the trait ability matrix by asking questions in such a manner as to
have the proximal zone of development conform to a diagonal shape, which is
consistent with a smooth progression across Bloom levels and concepts.

It is possible, in fact, to have a three-dimensional structure as depicted in
Fig~\ref{fig:lattice}.  In the original conception of this work, the schedular
was intended to support not only progressions along the (concept $\times$
Bloom) categories, but also to identify subdomains of interest.
Introductory-level computer science invites many creative opportunities for
assigning interdisciplinary problems; for example coding problems related to
biology, chemistry, physics, mathematics, and even digital art.  It was assumed
that assigning problems catering to the students' interests would raise the
incentive to learn the concept.  

While the features of the scheduler were not extended to support the capability
to ``zero in'' on the student's domain-specific interests, the database problem
taxonomy supports tagging problems by subdomain.  The trait ability matrix may
be extruded to include this interest dimension.

\begin{figure}[p!]
 \label{fig:lattice}
 \includegraphics[width=\textwidth]{fig/lattice.eps} 
 \caption{The trait ability lattice, which accounts for domain-specific 
  interests}
\end{figure}

This structure, $\Theta$, therefore shows where to begin asking questions.  It
also helps to define the goal of the intelligent tutoring system: to increase
values in $\Theta$ successively along its diagonal, thereby engineering an
experience similar to course progression.
% FIXME

\section{Updating Ability}

The trait ability matrix must be refreshed (either after a student response,
for a more fine-grained scheduling, or after a total assessment for
coarse-grained scheduling).  Therefore the student responses must be
auto-graded, and an MLE for each element in $\Theta$ must be performed.

\subsection{Short Answer}

For short answer questions, $\gamma$ is set to 0, since it is assumed that
there are infinitely many possible responses to the short answer question,
unless otherwise indicated in the problem specification. 

Support for auto-grading short answer questions was easily obtained.  Short
answer questions can be graded using the Levenshtein distance, also known as
the edit distance.  Essentially, the Levenshtein distance gives the number of
edits (insertions, substitutions and deletions) required to arrive from the
student input to the solution.  If the Levenshtein distance is below a
threshold, the answer is marked correct; otherwise it is marked incorrect. 
% TODO: (SRB) my experience with Levenshtein distance is that it rarely
% performs as well as counting the number of letters in common.

% FIXME
% Jaro-Winkler distance
% Sorensen-Dice coefficient
% overlap coefficient

\subsection{Coding}

An independent component for auto-grading code does exist, but it has not been
integrated into the system.  The code auto-grader uses a humble approach; it
associates expressions from the Piraha language \cite{piraha} with point values:
% TODO: (SRB) A regex or a Piraha expression?
% FIXME: The original implementation does in fact use Piraha expressions.

 \begin{align*}
  \langle expr \rangle_1 & \rightarrow  x_1 \\
  \langle expr \rangle_2 & \rightarrow  x_2 \\
                         & \vdots       \\
  \langle expr \rangle_i & \rightarrow  x_i \\
                         & \vdots       \\
  \langle expr \rangle_n & \rightarrow  x_n 
 \end{align*}

where $\langle expr \rangle_i$ is some regular expression, and $x_i$ is the
point value assigned, which may be negative.  This is to dock for the
appearance of certain constructs.

The problem is scored based upon the expressions which were parsed, allowing
a minimum score no greater than zero:

\begin{equation}
  \max \Bigg\{ \displaystyle\sum_{i=1}^n x_i, 0 \Bigg\}
\end{equation}


